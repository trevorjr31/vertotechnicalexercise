(function(e){function t(t){for(var r,s,i=t[0],c=t[1],l=t[2],p=0,m=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=(n("d3b7"),n("bc3a")),o=n.n(a),s={},i=o.a.create(s);i.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e){e.axios=i,window.axios=i,Object.defineProperties(e.prototype,{axios:{get:function(){return i}},$axios:{get:function(){return i}}})},r["a"].use(Plugin);Plugin;var c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("router-view")],1)],1)},l=[],u={name:"App",components:{},data:function(){return{}}},p=u,m=n("2877"),f=n("6544"),d=n.n(f),h=n("7496"),v=n("f6c4"),y=Object(m["a"])(p,c,l,!1,null,null,null),b=y.exports;d()(y,{VApp:h["a"],VMain:v["a"]});var g=n("f309");r["a"].use(g["a"]);var x=new g["a"]({}),k=n("951b"),w=n("1da1"),C=(n("96cf"),n("2f62")),j=n("6a06");r["a"].use(C["a"]);var _=new C["a"].Store({state:{authenticated:!1,username:null,session:null},getters:{authenticated:function(e){return 1==e.authenticated},username:function(e){return e.username},token:function(e){return e.session}},mutations:{authenticate:function(e,t){e.authenticated=!0,e.session=t.SessionID,e.username=t.User},logout:function(e){e.authenticated=!1,e.session=null,e.username=null}},actions:{authenticate:function(e,t){return Object(w["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.prev=1,n.next=4,o.a.post("/api/login",t);case 4:return a=n.sent,console.log(a.data),n.abrupt("return",r("login",a.data));case 9:return n.prev=9,n.t0=n["catch"](1),n.abrupt("return",!1);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},login:function(e,t){var n=e.commit;return n("authenticate",t),!0},logout:function(e){var t=e.commit;t("logout")}},modules:{},plugins:[Object(j["a"])()]}),O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}}},[r("v-row",{staticClass:"text-center"},[r("v-col",{attrs:{cols:"12"}},[r("v-img",{staticClass:"my-3",attrs:{src:n("90d7"),contain:"",height:"200"}}),r("div",[r("span",{staticClass:"text-h6"},[e._v("Verto Health Technical Exercise - Trevor Harvey")])])],1)],1),r("v-row",{staticClass:"d-flex justify-center"},[r("v-col",{attrs:{cols:"4",xl:"4",xxl:"4",lg:"4",md:"6",sm:"10",xs:"10"}},[r("v-form",[r("v-text-field",{attrs:{label:"Username"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),r("v-text-field",{attrs:{type:"password",label:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("div",{staticClass:"d-flex justify-center mt-3"},[r("v-btn",{attrs:{elevation:"2"},on:{click:e.login}},[e._v("Login!")])],1)],1)],1)],1),r("v-snackbar",{attrs:{centered:"",timeout:2e3},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[r("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.tryagain=!1}}},"v-btn",n,!1),[e._v(" Close ")])]}}]),model:{value:e.tryagain,callback:function(t){e.tryagain=t},expression:"tryagain"}},[e._v(" Invalid Credentials ")])],1)},E=[],R=n("5530"),S=(n("ac1f"),n("5319"),{name:"Loginform",methods:Object(R["a"])(Object(R["a"])({},Object(C["b"])({authenticate:"authenticate"})),{},{login:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.authenticate(this.form);case 2:1==this.authenticated?(console.log(this.user+" Has Been Authenticated!"),console.log(this.token),this.$router.replace({name:"home"})):this.tryagain=!0;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}),data:function(){return{form:{username:"",password:""},tryagain:!1}},computed:Object(R["a"])({},Object(C["c"])({authenticated:"authenticated",user:"username",token:"token"}))}),V=S,$=n("8336"),A=n("62ad"),P=n("a523"),D=n("4bd4"),F=n("adda"),B=n("0fd9"),M=n("2db4"),T=n("8654"),L=Object(m["a"])(V,O,E,!1,null,null,null),z=L.exports;d()(L,{VBtn:$["a"],VCol:A["a"],VContainer:P["a"],VForm:D["a"],VImg:F["a"],VRow:B["a"],VSnackbar:M["a"],VTextField:T["a"]});var N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("v-container",[n("div",{staticClass:"d-flex justify-end mt-4 mr-4"},[n("v-btn",{attrs:{elevation:"2"},on:{click:e.submitlogout}},[e._v("Logout")])],1),n("div",{staticClass:"d-flex justify-center mt-4 mr-4"},[n("span",{staticClass:"text-h6"},[e._v("Hello "+e._s(e.username))])]),n("v-row",{staticClass:"d-flex justify-center mt-15"},[n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"Search by name or id"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-select",{attrs:{label:"Filter by department",items:e.departments},on:{input:e.searchemployees},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),n("v-btn",{attrs:{elevation:"2"},on:{click:e.searchemployees}},[e._v(" Search ")])],1),n("v-row",{staticClass:"d-flex justify-center"},[n("v-col",{attrs:{cols:"9"}},[n("v-data-table",{staticClass:"elevation-1",attrs:{"item-key":"id",headers:e.headers,items:e.table,"items-per-page":10},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-btn",{attrs:{icon:"","x-large":""},on:{click:e.openaddemployee}},[n("v-icon",[e._v("mdi-account-plus")])],1)]},proxy:!0},{key:"item.buttons",fn:function(t){var r=t.item;return[n("v-btn",{attrs:{icon:""}},[n("v-icon",{on:{click:function(t){return e.opendeleteemployee(r)}}},[e._v("mdi-delete")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",{on:{click:function(t){return e.openupdateemployee(r)}}},[e._v("mdi-account-edit-outline")])],1)]}}])})],1)],1),n("v-dialog",{attrs:{width:"500"},model:{value:e.newEmployeeform,callback:function(t){e.newEmployeeform=t},expression:"newEmployeeform"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[n("h1",{staticClass:"text-h4 mx-auto"},[e._v(" New Employee ")])]),n("v-card-text",{staticClass:"mt-5"},[n("p",{staticClass:"text-h5 text-center"},[e._v("Enter new employee details: ")])]),e.selected!=[]?n("v-form",{ref:"newform"},[n("v-card-text",[n("v-text-field",{staticClass:"mt-n5",attrs:{rules:e.formRules,color:"grey",label:"First Name"},model:{value:e.employeeinfo.first,callback:function(t){e.$set(e.employeeinfo,"first",t)},expression:"employeeinfo.first"}}),n("v-text-field",{attrs:{rules:e.formRules,color:"grey",label:"Last Name"},model:{value:e.employeeinfo.last,callback:function(t){e.$set(e.employeeinfo,"last",t)},expression:"employeeinfo.last"}}),n("v-select",{attrs:{rules:e.selectRules,label:"Department",items:e.departments.slice(1)},model:{value:e.employeeinfo.dept,callback:function(t){e.$set(e.employeeinfo,"dept",t)},expression:"employeeinfo.dept"}})],1),n("v-card-actions",[n("v-row",{staticClass:"d-flex justify-center mb-3"},[n("v-btn",{staticClass:"mr-10 py-5 my-2",attrs:{color:"green lighten-4",rounded:""},on:{click:e.addemployee}},[e._v(" Add Employee ")]),n("v-btn",{staticClass:"py-5 my-2",attrs:{color:"deep-orange accent-1",rounded:""},on:{click:function(t){e.newEmployeeform=!1}}},[e._v(" Cancel ")])],1)],1)],1):e._e()],1)],1),n("v-dialog",{attrs:{width:"500"},model:{value:e.updateEmployeeform,callback:function(t){e.updateEmployeeform=t},expression:"updateEmployeeform"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[n("h1",{staticClass:"text-h4 mx-auto"},[e._v(" Update Employee ")])]),n("v-card-text",{staticClass:"mt-5"},[n("p",{staticClass:"text-h5 text-center"},[e._v("Update employee details: ")])]),e.selected!=[]?n("v-form",{ref:"newform"},[n("v-card-text",[n("v-text-field",{staticClass:"mt-n5",attrs:{rules:e.formRules,color:"grey",label:"First Name"},model:{value:e.employeeinfo.firstname,callback:function(t){e.$set(e.employeeinfo,"firstname",t)},expression:"employeeinfo.firstname"}}),n("v-text-field",{attrs:{rules:e.formRules,color:"grey",label:"Last Name"},model:{value:e.employeeinfo.lastname,callback:function(t){e.$set(e.employeeinfo,"lastname",t)},expression:"employeeinfo.lastname"}}),n("v-select",{attrs:{rules:e.selectRules,label:"Department",items:e.departments.slice(1)},model:{value:e.employeeinfo.dept,callback:function(t){e.$set(e.employeeinfo,"dept",t)},expression:"employeeinfo.dept"}})],1),n("v-card-actions",[n("v-row",{staticClass:"d-flex justify-center mb-3"},[n("v-btn",{staticClass:"mr-10 py-5 my-2",attrs:{color:"green lighten-4",rounded:""},on:{click:e.updateemployee}},[e._v(" Update Employee ")]),n("v-btn",{staticClass:"py-5 my-2",attrs:{color:"deep-orange accent-1",rounded:""},on:{click:function(t){e.updateEmployeeform=!1}}},[e._v(" Cancel ")])],1)],1)],1):e._e()],1)],1),n("v-dialog",{attrs:{width:"500"},model:{value:e.deleteEmployeeform,callback:function(t){e.deleteEmployeeform=t},expression:"deleteEmployeeform"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2"},[n("h1",{staticClass:"text-h4 mx-auto"},[e._v(" Delete Employee ")])]),n("v-card-text",{staticClass:"mt-5"},[n("p",{staticClass:"text-h5 text-center"},[e._v("Are you sure you wish to delete ")]),n("p",{staticClass:"text-h5 text-center"},[e._v(" "+e._s(e.employeeinfo.firstname)+" "+e._s(e.employeeinfo.lastname)+"?")])]),e.selected!=[]?n("v-form",{ref:"newform"},[n("v-card-actions",[n("v-row",{staticClass:"d-flex justify-center mb-3"},[n("v-btn",{staticClass:"mr-10 py-5 my-2",attrs:{color:"green lighten-4",rounded:""},on:{click:e.deleteemployee}},[e._v(" Delete Employee ")]),n("v-btn",{staticClass:"py-5 my-2",attrs:{color:"deep-orange accent-1",rounded:""},on:{click:function(t){e.deleteEmployeeform=!1}}},[e._v(" Cancel ")])],1)],1)],1):e._e()],1)],1),n("v-snackbar",{attrs:{centered:"",timeout:2e3},scopedSlots:e._u([{key:"action",fn:function(t){var r=t.attrs;return[n("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.Snackbar=!1}}},"v-btn",r,!1),[e._v(" Close ")])]}}]),model:{value:e.Snackbar,callback:function(t){e.Snackbar=t},expression:"Snackbar"}},[e._v(" "+e._s(e.snackbartext)+" ")])],1)],1)],1)},H=[],U=(n("4de4"),n("841c"),{name:"Home",components:{},mounted:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log("using token"+this.token),e.next=4,o.a.get("./api/employees",{headers:{Authorization:"Bearer "+this.token}});case 4:t=e.sent,this.table=t.data,console.log(this.table),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),this.logout,this.$router.push("/");case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{table:[],search:"",Snackbar:!1,newEmployeeform:!1,snackbartext:"",employeeinfo:{first:"",last:"",dept:"",id:""},deleteEmployeeform:!1,updateEmployeeform:!1,filter:"",selected:[],departments:["All Departments","Engineering","Marketing","Product Management","Project Management","Quality Control","Sales","Customer Service","Human Resources","Finance"],headers:[{text:"ID",align:"start",value:"id"},{text:"First Name",value:"firstname"},{text:"Last Name",value:"lastname"},{text:"Dept",value:"dept"},{text:"Actions",value:"buttons",sortable:!1}],formRules:[function(e){return!!e||"Field is required"},function(e){return e.length>1||"Must be at least 2 characters"}],selectRules:[function(e){return!!e||"Field is required"}]}},methods:Object(R["a"])({checkping:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.a.get("/api/ping",{headers:{Authorization:"Bearer "+t.token}}).then((function(){e(!0)})).catch((function(){n(t.$router.push("/"))}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),reload:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("./api/employees",{headers:{Authorization:"Bearer "+this.token}});case 2:t=e.sent,this.table=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),openaddemployee:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkping();case 3:this.newEmployeeform=!0,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.$router.push("/");case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),openupdateemployee:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkping();case 3:this.employeeinfo=Object.assign({},t),this.updateEmployeeform=!0,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$router.push("/");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),opendeleteemployee:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkping();case 3:this.employeeinfo=Object.assign({},t),this.deleteEmployeeform=!0,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),this.$router.push("/");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}(),searchemployees:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkping();case 3:return t="","All Departments"!=this.filter&&(t=this.filter),e.next=7,o.a.get("/api/employees?search="+this.search+"&filter="+t,{headers:{Authorization:"Bearer "+this.token}});case 7:n=e.sent,this.table=n.data,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.$router.push("/");case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}(),submitlogout:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.logout(),this.$router.push("/");case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),addemployee:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs.newform.validate()){e.next=17;break}return e.prev=1,e.next=4,this.checkping();case 4:return e.next=6,o.a.post("/api/employees",this.employeeinfo,{headers:{Authorization:"Bearer "+this.token}});case 6:this.newEmployeeform=!1,this.snackbartext="Success",this.Snackbar=!0,this.reload(),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](1),this.newEmployeeform=!1,this.snackbartext="Error",this.Snackbar=!0;case 17:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(){return e.apply(this,arguments)}return t}(),updateemployee:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$refs.newform.validate()){e.next=17;break}return e.prev=1,e.next=4,this.checkping();case 4:return e.next=6,o.a.patch("/api/employees",this.employeeinfo,{headers:{Authorization:"Bearer "+this.token}});case 6:this.updateEmployeeform=!1,this.snackbartext="Success",this.Snackbar=!0,this.reload(),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](1),this.newEmployeeform=!1,this.snackbartext="Error",this.Snackbar=!0;case 17:case"end":return e.stop()}}),e,this,[[1,12]])})));function t(){return e.apply(this,arguments)}return t}(),deleteemployee:function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkping();case 3:return e.next=5,o.a.delete("/api/employees",{data:this.employeeinfo,headers:{Authorization:"Bearer "+this.token}});case 5:this.deleteEmployeeform=!1,this.snackbartext="Success",this.Snackbar=!0,this.reload(),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](0),this.deleteEmployeeform=!1,this.snackbartext="Error",this.Snackbar=!0;case 16:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}()},Object(C["b"])({logout:"logout"})),computed:Object(R["a"])({},Object(C["c"])({token:"token",username:"username"}))}),I=U,q=n("b0af"),J=n("99d9"),Q=n("8fea"),G=n("169a"),K=n("132d"),W=n("b974"),X=Object(m["a"])(I,N,H,!1,null,null,null),Y=X.exports;d()(X,{VApp:h["a"],VBtn:$["a"],VCard:q["a"],VCardActions:J["a"],VCardText:J["b"],VCardTitle:J["c"],VCol:A["a"],VContainer:P["a"],VDataTable:Q["a"],VDialog:G["a"],VForm:D["a"],VIcon:K["a"],VMain:v["a"],VRow:B["a"],VSelect:W["a"],VSnackbar:M["a"],VTextField:T["a"]}),r["a"].use(k["a"]);var Z=[{path:"/",name:"login",component:z},{path:"/home",name:"home",component:Y,meta:{requiresAuth:!0}}],ee=Z;r["a"].config.productionTip=!1,o.a.defaults.baseURL="https://verto.trevorharvey.com/",r["a"].use(k["a"]),r["a"].component("Loginform",z);var te=new k["a"]({routes:ee});new r["a"]({router:te,vuetify:x,store:_,render:function(e){return e(b)}}).$mount("#app")},"90d7":function(e,t,n){e.exports=n.p+"img/vertologo.09b6eb25.jpg"}});
//# sourceMappingURL=app.880c1cc8.js.map